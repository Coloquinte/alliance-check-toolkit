README.rst
============

Update 24 Octobre 2022, MM Louerat

directory
---------
/users/cao/mariem/coriolis-2.x/src/alliance-check-toolkit/benchs/SAR/tsmc_c018

goal
----------
SARlogic synthesis, P&P, transistor simulation and sta

target process : TSMC 180 (NDA)

tools
-----
C4M-FlexLib standard cells
yosys for synthesis
coriolis for place and route
(Siemens EDA software) eldo for transistor simulation
/users/soft/mentor/amsv-2019.4_2/amsv/bin/eldo
FOSS hitas for static timing analysis

cleanup
---------
make clean removes the design files (netlist, layout)
./hitas/clean_sta removes the files generated by static timing analysis
./eldo/clean_eldo removes the files generated by simulation with (Siemens EDA software) eldo

synthesis
----------
make vst

provides:
-rw-r--r-- 1 mariem utmp   364  7 oct.  14:21 SARlogic.tcl
-rw-r--r-- 1 mariem utmp 14114  7 oct.  14:21 SARlogic.blif
-rw-r--r-- 1 mariem utmp 40188  7 oct.  14:21 sarlogic.vst
-rw-r--r-- 1 mariem utmp 12500  7 oct.  14:21 SARlogic.spi


place and route
-------------------
make cgt

Tools/PythonScript
doDesign
executon step by step

provides
-rw-r--r-- 1 mariem utmp 105876  7 oct.  14:23 sarlogic_r.vst
-rw-r--r-- 1 mariem utmp  31330  7 oct.  14:23 sarlogic_r.spi
-rw-r--r-- 1 mariem utmp 501954  7 oct.  14:23 sarlogic_r.gds

simulation at transistor level
-------------------------------
(Siemens EDA software) eldo is the signoff simulator

env for launching (Siemens EDA software) eldo
source ./eldo/go_eldo

launching (Siemens EDA software) eldo on transistor netlist before placement
*******************************************************************************
eldo top_eldo.cir

top_eldo.cir contains the description of the hierarchical netlist BEFORE routing, 
using:
SARlogic.spi, the netlist generated, which has to be modified into:
SARlogic_netlist.spi, 
the top level netlist built from SARlogic.spi and 
commenting the terminal models inclusion (already performed in the top_eldo netlist with appropriate path)
paths of standard cells have to be changed for simulation


top_eldo.cir is the simulation netlist including SARlogic_netlist.spi, with techno models and 
all the cells (.INCLUDE refering to the standard cell library, absolute path). 


provides
-rw-r--r-- 1 mariem utmp   81509  7 oct.  14:38 top_eldo.wdb
-rw-r--r-- 1 mariem utmp     946  7 oct.  14:38 top_eldo.swd
-rw-r--r-- 1 mariem utmp 3363494  7 oct.  14:38 top_eldo.chi
-rw-r--r-- 1 mariem utmp  641541  7 oct.  14:38 top_eldo.errm.log

ezwave top_eldo.wdb
displays the plots

launching (Siemens EDA software) eldo on transistor netlist AFTER placement
****************************************************************************
cells have been added by the placer for the router
sarlogic_r.spi is the new netlist after placement and routing
sarlogic_r_netlist.spi is the new top level netlist after placement
paths of standard cells have to be changed for simulation

top_r_eldo.cir is the simulation netlist including sarlogic_r_netlist.spi, 
with techno models and 
all the cells (.INCLUDE refering to the standard cell library). 

BEWARE that the order of the connectors in the top view sarlogic_r_simu.spi have been changed compared to SARlogic_simu.spi

eldo top_r_eldo.cir
top_r_eldo.cir contains the description of the hierarchical netlist AFTER routing

provides
-rw-r--r-- 1 mariem utmp  154448 24 oct.  15:21 top_r_eldo.wdb
-rw-r--r-- 1 mariem utmp    1265 24 oct.  15:21 top_r_eldo.swd
-rw-r--r-- 1 mariem utmp 3405903 24 oct.  15:21 top_r_eldo.chi
-rw-r--r-- 1 mariem utmp  652412 24 oct.  15:21 top_r_eldo.errm.log

ezwave top_r_eldo.wdb
displays the plots of the simulation after routing

static timing analysis
-------------------------
hitas is used
to set the environment
bash
source ./hitas/avt_env.sh

sta on netlist BEFORE placement and routing
*********************************************
launching hitas on the netlist BEFORE placement and routing
the netlist is prepared in
top_hitas_eldo.cir
where the netlist is described as a .SUBCKT (SARlogic_netlist.spi) 
including the leaf cells (with .INCLUDE), here C4M-LIP6 standard cells
since paths of standard cells have to be changed for STA
BUT the transistor model is included in db.tcl
since the model as provided for (Siemens EDA software) eldo cannot be read by hitas as is.

./hitas/db.tcl

the files are provided:
-rw-r--r-- 1 mariem utmp    1342 24 oct.  15:24 SARlogic.stat
-rw-r--r-- 1 mariem utmp    7024 24 oct.  15:24 SARlogic.rep
-rw-r--r-- 1 mariem utmp  550104 24 oct.  15:24 SARlogic.cnv
-rw-r--r-- 1 mariem utmp  353813 24 oct.  15:24 SARlogic.cns
-rw-r--r-- 1 mariem utmp  134862 24 oct.  15:24 SARlogic.rcx
-rw-r--r-- 1 mariem utmp  470097 24 oct.  15:24 SARlogic.dtx
-rw-r--r-- 1 mariem utmp 1358006 24 oct.  15:24 SARlogic.stm

xtas provides a GUI to analyse timing paths
File/open data base
Tools/GetPaths

./hitas/report.tcl

provides
-rw-r--r-- 1 mariem utmp  493331 24 oct.  15:24 SARlogic.setuphold
-rw-r--r-- 1 mariem utmp   20869 24 oct.  15:24 SARlogic.accessmax
-rw-r--r-- 1 mariem utmp   20869 24 oct.  15:24 SARlogic.accessmin
-rw-r--r-- 1 mariem utmp    2664 24 oct.  15:24 SARlogic.comb
-rw-r--r-- 1 mariem utmp    9858 24 oct.  15:24 SARlogic.paths

with report of the 5th longest critical paths as requested in :
SARlogic.paths



sta on netlist AFTER placement and routing
*********************************************
launching hitas on the netlist AFTER placement and routing
the netlis is prepared in
top_r_hitas_eldo.cir

where the netlist is described as .SUBCKT (sarlogic_r.spi) 
including the leaf cells (with .INCLUDE), here C4M-LIP6 standard cells
since paths of standard cells have to be changed for STA

BUT the transistor model is included in db_r.tcl
since the model as provided for (Siemens EDA software) eldo cannot be read by hitas as is.

./hitas/db_r.tcl

the files are provided
-rw-r--r-- 1 mariem utmp    1350 24 oct.  15:33 sarlogic_r.stat
-rw-r--r-- 1 mariem utmp    7028 24 oct.  15:33 sarlogic_r.rep
-rw-r--r-- 1 mariem utmp  550058 24 oct.  15:33 sarlogic_r.cnv
-rw-r--r-- 1 mariem utmp  353827 24 oct.  15:33 sarlogic_r.cns
-rw-r--r-- 1 mariem utmp  134933 24 oct.  15:33 sarlogic_r.rcx
-rw-r--r-- 1 mariem utmp  470249 24 oct.  15:33 sarlogic_r.dtx
-rw-r--r-- 1 mariem utmp 1358096 24 oct.  15:33 sarlogic_r.stm

xtas provides a GUI to analyse timing paths
File/open data base
Tools/GetPaths

./hitas/report_r.tcl provides

-rw-r--r-- 1 mariem utmp  493335 24 oct.  15:35 sarlogic_r.setuphold
-rw-r--r-- 1 mariem utmp   41232 24 oct.  15:35 sarlogic_r.accessmax
-rw-r--r-- 1 mariem utmp   41232 24 oct.  15:35 sarlogic_r.accessmin
-rw-r--r-- 1 mariem utmp    5328 24 oct.  15:35 sarlogic_r.comb
-rw-r--r-- 1 mariem utmp    9862 24 oct.  15:35 sarlogic_r.paths

with report of the 5th longest critical paths as requested in :
SARlogic.paths

