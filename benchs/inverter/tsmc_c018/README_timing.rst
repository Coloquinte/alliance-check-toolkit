README_timing.rst
=================

Update October 24, 2022
------------------------

coriolis-2.x/src/alliance-check-toolkit/benchs/inverter/tsmc_c018/README_timing.rst

Goal
--------
This directory contains the files to analyze the timing response of:
  * a single inverter (FlexLib), 
  * a chain of 5 inverters (FlexLib)

using either:

  * static timing analysis (STA), or
  * transistor level simulation, for comparison and estimation of STA accuracy.

using Software:

  * FOSS hitas for STA, and
  * Siemens EDA software/eldo for transistor level simulation.

Transitor model is BSIM4,
the parameters are under NDA.

Environment configuration for hitas
--------------------------------------
Launch:
  bash
  source ./hitas/avt_env.sh

Environment configuration for eldo (Siemens EDA software)
---------------------------------------------------------------
Launch:
 
  source ./eldo/go_eldo

Invertor timing analysis
-------------------------

A. With STA
++++++++++++
Running:

1. Building the timing database
   ./hitas/db.tcl

NB. here, Hitas uses inv_x2_hitas.spi description of the netlist 
to detect VDD and VSS
(see inv_x2.rep)

2. Report critical paths
   ./hitas/report_inv.tcl

provides the inv_x2.paths file that shows the 2 paths of the invertor.

+-------+--------+--------------+-----------------------+
| input | output | input slope  |  propagation delay
+=======+========+==============+=======================+
| F     | R      | 5            |  NDA
+-------+--------+--------------+-----------------------+
| R     | F      | 5            |  NDA
+-------+--------+--------------+-----------------------+

where F: falling, R: rising.

B. With transistor level simulator eldo (Siemens EDA software)
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

eldo top_eldo.spi
displays the delays (input slope and propagation delay) 
and write them in the file top_eldo.chi
and
ezwave
displays timing plots 

+-------+--------+--------------+-----------------------+
| input | output | input slope  |  propagation delay
+=======+========+==============+=======================+
| F     | R      | 5            |  NDA
+-------+--------+--------------+-----------------------+
| R     | F      | 5            |  NDA
+-------+--------+--------------+-----------------------+


where F: falling, R: rising, timing results.

showing that STA delays are greater than simulation delays,  
keeping the relative order,
with an error for STA of : 6% in the worse case.

Invertor chain timing analysis
------------------------------

A. With STA
++++++++++++
Running:

1. Building the timing database
   ./hitas/db_chain.tcl

NB. Here, Hitas uses inv_x2_chain_hitas.spi description of the netlist 
to detect VDD and VSS
(see inv_x2_chain.rep)


2. Report critical paths
   ./hitas/report_chain.tcl

provides the inv_x2_chain.paths file that shows the 2 paths of the invertor chain.

+-------+--------+--------------+-----------------------+
| input | output | input slope  |  propagation delay
+=======+========+==============+=======================+
| F     | R      | 5            |  NDA
+-------+--------+--------------+-----------------------+
| R     | F      | 5            |  NDA
+-------+--------+--------------+-----------------------+

where F: falling, R: rising, timing results.

3. Other analysis with the Hitas GUI: Xtas
   xtas
   file/open inv_x2_chain.dtx
   Tools/Get Paths
   Select path/path Detail

B. With transistor level simulator eldo (Siemens EDA software)
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

eldo top_chain_eldo.cir
displays the delays (input slope and propagation delay) 
and write them in the file top_chain_eldo.chi
and
ezwave
displays timing plots 

+-------+--------+--------------+-----------------------+
| input | output | input slope  |  propagation delay
+=======+========+==============+=======================+
| F     | R      | 5            |  NDA
+-------+--------+--------------+-----------------------+
| R     | F      | 5            |  NDA
+-------+--------+--------------+-----------------------+

where F: falling, R: rising, timing results.

showing that STA delays are slightly smaller than simulation delays, 
keeping the relative order, 
with an error for STA of : 4% in the worse case.

Clean
--------

./hitas/clean removes the timing files, except .paths files
./eldo/clean_eldo removes the files generated by the simulation
